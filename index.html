<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Chinni ğŸ’–</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
margin: 0;
min-height: 100vh;
display: flex;
align-items: center;
justify-content: center;
font-family: 'Segoe UI', sans-serif;
overflow: hidden;
background: linear-gradient(135deg, #ff9a9e, #fad0c4);
transition: background 0.8s ease;
}

.container {
background: white;
padding: 35px 25px;
border-radius: 20px;
width: 92%;
max-width: 380px;
text-align: center;
box-shadow: 0 10px 30px rgba(0,0,0,0.25);
z-index: 2;
position: relative;
}

h2 {
color: #e91e63;
margin-bottom: 30px;
line-height: 1.4;
}

.buttons {
position: relative;
height: 120px;
display: flex;
justify-content: space-between;
padding: 0 25px;
}

button {
width: 120px;
height: 55px;
border-radius: 28px;
border: none;
font-size: 16px;
cursor: pointer;
display: flex;
align-items: center;
justify-content: center;
transition: transform 0.2s ease;
}

#yesBtn { background:#e91e63; color:black; }
#noBtn {
background:#aaa; color:black;
position:absolute; left:220px; top:0;
}

/* â¤ï¸ HEARTS (DROP FROM TOP) */
.heart {
position:fixed;
top:-30px;
font-size:22px;
animation:fall linear forwards;
pointer-events:none;
}

@keyframes fall {
0% { transform:translateY(0); opacity:1; }
100% { transform:translateY(110vh); opacity:0; }
}

/* YES MESSAGE */
#yesMessage {
display:none;
font-size:18px;
font-weight:bold;
color:#e91e63;
margin-top:20px;
line-height:1.4;
}

.hint {
display:none;
margin-top:15px;
font-size:18px;
animation:pulse 1.5s infinite;
cursor:pointer;
}

@keyframes pulse {
0%,100% { transform:scale(1); }
50% { transform:scale(1.1); }
}

/* SLIDER */
.slider { display:none; margin-top:20px; }
.slider img {
width:100%;
border-radius:15px;
opacity:0;
transition:opacity 0.4s ease;
}
.slider img.show { opacity:1; }

.caption {
margin-top:12px;
font-size:16px;
color:#444;
font-weight:600;
}

.nav { display:flex; justify-content:space-between; margin-top:15px; }
.nav button {
padding:8px 14px;
background:rgba(233,30,99,0.15);
color:#e91e63;
border-radius:20px;
font-size:14px;
}
.nav button.hidden { visibility:hidden; }

.final {
display:none;
margin-top:25px;
font-size:18px;
font-weight:bold;
color:#0b3c49;
line-height:1.5;
}
</style>
</head>

<body>

<audio id="bgMusic" loop>
<source src="https://sandeep-sandy-153.github.io/valentine/valentine-music.mp3" type="audio/mpeg">
</audio>

<div class="container">

<h2 id="question">
Chinni ğŸ’–<br>
Will you be my Valentine?
</h2>

<div class="buttons">
<button id="yesBtn">Yes ğŸ’–</button>
<button id="noBtn">No ğŸ™…â€â™‚ï¸</button>
</div>

<div id="yesMessage">
Yayyyy!!! ğŸ’•<br>
Chaaalu Finally Yes Click Chesaaav â¤ï¸
</div>

<div class="hint">ğŸ‘‰ Click ğŸ‘ˆ</div>

<div class="slider">
<img id="slideImg">
<div class="caption" id="slideText"></div>

<div class="final" id="finalMsg">
Chinni <br>
Mana ee prayanam lo chala daggara ayyam inka daggara ga avvali ani naku chala anipisthundi
Adi Twaralone jaruguthundi ani niku mata isthunna. Chala sarlu Godava paddam But naku nitho padina godava kanna 
nuvve important anipisthadi chinni.
Manam eppudu ilane enni sarlu godava padina manchiga kalisi undali chinni<br>
Wanted to be your valentine for the rest of my lifeğŸ’™
</div>

<div class="nav">
<button id="prev">â¬…ï¸</button>
<button id="next">â¡ï¸</button>
</div>
</div>

</div>

<script>
const pastelBg=[ "#fde2e4","#e4f1fe","#e8f8f5","#fef6e4",
"#f3e8ff","#e0f2f1","#fff1f2","#f0f9ff",
"#fef3c7","#ede9fe","#fce7f3","#ecfeff"];

const slides = [
  {img:"photo1.jpg", text:"chinni eroju mana iddaram kalisi first time morning bayataki vellam aaroju inka naku gurthundi, it's very special ğŸ’—"},
  {img:"photo2.jpg", text:"mana night rides almost hyd antha cover chesam anukuntunna, we enjoyed alot kada in those drives ofcourse some are fights also ğŸ˜…"},
  {img:"photo3.jpg", text:"The Temples we visited, manam eppudu ilane chakkaga prathi daiva karyaniki prasanthaga velli ravali ani asisthunna ğŸ™"},
  {img:"photo4.jpg", text:"Movies it holds a very special place in my life, adi nitho antey inka chala ekkuva happy ga velli chusevadini ğŸ¿"},
  {img:"photo5.jpg", text:"Shopping it means alot to you kada, aaa amb mall ayithe oka 50 times ayina visit chesi untam ofcourse andulo harleys kosam chala sarlu anuko ğŸ˜"},
  {img:"photo6.jpg", text:"Office moments kalisi premaga vunnadi konni sarlu godava padindi ekkuva sarlu But those are memorable ğŸ˜†"},
  {img:"photo7.jpg", text:"Mana personal moments when we are together it's very special, Ofcourse aroju manam first time ... ğŸ¤«"},
  {img:"photo8.jpg", text:"Bike rides with you willl be always memorable and special ğŸï¸"},
  {img:"photo9.jpg", text:"Car rides are always memorable, Gurthunda night mana chethilo car unte em chesevallamo aarojullo ğŸ¤­"},
  {img:"photo10.jpg", text:"Beach ki ninnu chupinchina rojulu enno andulo konni madhura gnapakalu ğŸŒŠ"},
  {img:"photo11.jpg", text:"Charminar lo chori ğŸ˜… But niku edina konipettatam chala thakkuva But konipettina moments are very special for me"},
  {img:"photo12.jpg", text:"My Bujji Kutti chinni nuvu entha Boddhu ga untavo thelusa ğŸ˜˜ alane undu, Danikosam Nuvvu thintu undu nenu peduthu unta ğŸ²"}
];

function preloadImages(){
slides.forEach(s=>{
const i=new Image();
i.src=s.img;
});
}

let index=0;
let atFinal=false;
let yesScale=1;
let centered=false;

const body=document.body;
const yesBtn=document.getElementById("yesBtn");
const noBtn=document.getElementById("noBtn");
const question=document.getElementById("question");
const yesMessage=document.getElementById("yesMessage");
const hint=document.querySelector(".hint");
const slider=document.querySelector(".slider");
const finalMsg=document.getElementById("finalMsg");
const img=document.getElementById("slideImg");
const txt=document.getElementById("slideText");
const prev=document.getElementById("prev");
const next=document.getElementById("next");
const music=document.getElementById("bgMusic");

/* ================= HEARTBEAT SYSTEM ================= */

let audioCtx;
let heartbeatInterval;
let heartbeatSpeed = 1000;
let heartbeatStarted = false;

function startHeartbeat(){
  if(heartbeatStarted) return;

  audioCtx = new (window.AudioContext || window.webkitAudioContext)();

  if(audioCtx.state === "suspended"){
    audioCtx.resume();
  }

  heartbeatStarted = true;
  runHeartbeat();
}

function runHeartbeat(){
  clearInterval(heartbeatInterval);

  heartbeatInterval = setInterval(()=>{
    playBeat();
    setTimeout(playBeat,180);
  }, heartbeatSpeed);
}

function playBeat(){

  const osc = audioCtx.createOscillator();
  const gain = audioCtx.createGain();

  // Lower frequency for deeper thump
  osc.type = "sine";
  osc.frequency.setValueAtTime(55, audioCtx.currentTime);

  // Stronger volume
  gain.gain.setValueAtTime(0.6, audioCtx.currentTime);

  // Quick attack-decay for punchy heartbeat
  gain.gain.exponentialRampToValueAtTime(
    0.001,
    audioCtx.currentTime + 0.25
  );

  osc.connect(gain);
  gain.connect(audioCtx.destination);

  osc.start();
  osc.stop(audioCtx.currentTime + 0.25);
}

function increaseHeartbeat(){
  if(heartbeatSpeed > 350){
    heartbeatSpeed -= 70;
    runHeartbeat();
  }
}

function stopHeartbeat(){
  clearInterval(heartbeatInterval);
}

/* ================= NO FULL SCREEN MOVE ================= */

function moveNo(){
startHeartbeat();
const maxX=window.innerWidth-noBtn.offsetWidth;
const maxY=window.innerHeight-noBtn.offsetHeight;
noBtn.style.position="fixed";
noBtn.style.left=Math.random()*maxX+"px";
noBtn.style.top=Math.random()*maxY+"px";

if(!centered){
centered=true;
yesBtn.style.position="absolute";
yesBtn.style.left="50%";
yesBtn.style.top="65%";
yesBtn.style.transform="translate(-50%,-50%) scale(1)";
}

yesScale+=0.05;
yesBtn.style.transform="translate(-50%,-50%) scale("+yesScale+")";

increaseHeartbeat();  // ğŸ”¥ speed up heartbeat
}

noBtn.onmouseover=moveNo;
noBtn.onclick=moveNo;
noBtn.ontouchstart=(e)=>{e.preventDefault();moveNo();};

yesBtn.onclick=()=>{
stopHeartbeat();  // ğŸ’“ stop tension

document.querySelector(".buttons").style.display="none";
question.style.display="none";
yesMessage.style.display="block";
hint.style.display="block";

music.volume=0.4;
music.play();
preloadImages();
startHearts();
};

hint.onclick=()=>{
hint.style.display="none";
yesMessage.style.display="none";
slider.style.display="block";
showSlide();
};

function showSlide(){
atFinal=false;
img.classList.remove("show");
finalMsg.style.display="none";
img.style.display="block";
txt.style.display="block";

setTimeout(()=>{
img.src=slides[index].img;
txt.innerText=slides[index].text;
body.style.background=pastelBg[index];
img.onload=()=>img.classList.add("show");
},40);

prev.classList.toggle("hidden",index===0);
next.classList.remove("hidden");
}

next.onclick=()=>{
if(index<slides.length-1){ index++; showSlide(); }
else{
atFinal=true;
img.style.display="none";
txt.style.display="none";
finalMsg.style.display="block";
body.style.background="#4aa3b8";
prev.classList.remove("hidden");
next.classList.add("hidden");
}
};

prev.onclick=()=>{
if(atFinal){ atFinal=false; index=slides.length-1; showSlide(); return; }
if(index>0){ index--; showSlide(); }
};

/* TOP CONFETTI */
function startHearts(){
setInterval(()=>{
const h=document.createElement("div");
h.className="heart";
h.innerHTML="â¤ï¸";
h.style.left=Math.random()*100+"vw";
h.style.animationDuration=(Math.random()*3+3)+"s";
document.body.appendChild(h);
setTimeout(()=>h.remove(),6000);
},300);
}
</script>

</body>
</html>
